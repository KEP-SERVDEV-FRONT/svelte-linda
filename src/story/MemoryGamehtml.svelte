ì‹œì‘í•˜ê¸° ë²„íŠ¼ 
5ì´ˆë™ì•ˆ ë¯¸ë¦¬ ë³´ê¸° 
ê²Œì„ ìŠ¤íƒ€íŠ¸
í‹€ë¦¬ë©´ í”ë“¤

<script>
  // ì—˜ë¡œë”” íŠ¹ê°•. ì´í•´í•˜ê¸°
  // ë³€ìˆ˜ì´ˆê¸°í™” = []ë°°ì—´ { í‚¤ : ê°’ }ê°ì²´
  let cards = [ 
    {
      "id": 0,
      "value": "ğŸ‡",
      "show" : false,
      "done" : false
    },
    {
      "id": 1,
      "value": "ğŸˆ",
      "show" : false,
      "done" : false
    },
    {
      "id": 2,
      "value": "ğŸ‰",
      "show" : false,
      "done" : false
    },
    {
      "id": 3,
      "value": "ğŸŠ",
      "show" : false,
      "done" : false
    },
    {
      "id": 4,
      "value": "ğŸ‹",
      "show" : false,
      "done" : false
    },
    {
      "id": 0,
      "value": "ğŸ‡",
      "show" : false,
      "done" : false
    },
    {
      "id": 1,
      "value": "ğŸˆ",
      "show" : false,
      "done" : false
    },
    {
      "id": 2,
      "value": "ğŸ‰",
      "show" : false,
      "done" : false
    },
    {
      "id": 3,
      "value": "ğŸŠ",
      "show" : false,
      "done" : false
    },
    {
      "id": 4,
      "value": "ğŸ‹",
      "show" : false,
      "done" : false
    }
  ]

  // íƒœì˜¤ê°€ í•œê±°ê³ ... ëœë¤.. ì´í•´ëª»í•œê±°.
  // cards = cards.slice().sort(() => Math.random() > 0.5 ? 1 : -1)
  

  // SENDë¼ëŠ” ì´ë¦„ì— í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤ (ë§¤ì†Œë“œ = ) {   function SENDí•¨ìˆ˜ëª… (indexí•¨ìˆ˜ì— ë‹´ê²¨ì§€ëŠ” ë§¤ê²Œë³€ìˆ˜ / ìˆê³  ì—†ê³ í• ìˆ˜ ìˆìŒ. ) { ë§¤ê²Œë³€ìˆ˜ë¡œ ì‹¤í–‰ë˜ëŠ” ë¡œì§ê¸°ëŠ¥ }    function í—˜ìˆ˜ëª… (){} 
  function SEND (index) {
    // ì„ íƒí•œ ì¹´ë“œ ì¸ë±ìŠ¤ ê°’ì„ selectedCardí•¨ìˆ˜ëª…ì— ë„£ì–´ì£¼ê³  selectedCard ì°¸ìœ¼ë¡œ í‘œì‹œí•œë‹¤.
    // cards[index].show = true
    // @ì—˜ë¡œë””ìƒ˜ = ì„ íƒëœ ì¹´ë“œì˜ ì¸ë±ìŠ¤ ê°’ìœ¼ë¡œ ì¹´ë“œ ê°ì²´ë¥¼ ê³¨ë¼ì„œ selectedCard ë³€ìˆ˜ì— ë‹´ê³  
    var selectedCard = cards[index]
    // @ì—˜ë¡œë””ìƒ˜ = selectedCardë³€ìˆ˜ì— ë‹´ê²¨ì§„ ê°ì²´ì˜ showê°’ì„ trueë¡œ í•œë‹¤.
    selectedCard.show = true
    cards[index] = cards[index]; // ì´ê±´ ì™œ ì„ ì–¸???????????????? @íƒœì˜¤

    // ì¹´ë“œìŠ¤ ë°°ì—´ì„ ë°˜ë³µí•˜ë©´ì„œ ì¹´ë“œshowê°€ true ì¸ ì¹´ë“œë§Œ ë³€ìˆ˜ì— ë‹´ëŠ”ë‹¤.  
    let selectedCards = [];

    for(let i = 0; i < cards.length ; i++) {
      if(cards[i].show === true) {
        selectedCards.push(cards[i])
      }
    }
    // ì¹´ë“œìŠ¤ ë°°ì—´ì„ ë°˜ë³µí•˜ë©´ì„œ ì¹´ë“œshowê°€ true ì¸ ì¹´ë“œë§Œ ë³€ìˆ˜ì— ë‹´ëŠ”ë‹¤.  
    // const selectedCards = cards.filter(card => {
    //   return card.show === true
    // })

   
    // ë³€ìˆ˜ì— ë‹´ê¸´ ê°’ì´ 2ì¼ ê²½ìš° 
    if(selectedCards.length === 2) {
      console.log(selectedCards[0].id === selectedCards[1].id)
      // ë‘ê°œì˜ ê°ì²´ì˜ id(í‚¤) ê°’(true)ì´ ê°™ì„ ê²½ìš° 
      if (selectedCards[0].id === selectedCards[1].id){
        // 
        for(let i = 0; i < cards.length ; i++) {
          if(cards[i].show === true) {
            cards[i].show = false;
            cards[i].done = true;
          }
        }
        //  cards.map(card => {
        //   if(card.show === true) {
        //     card.show = false;
        //     card.done = true;
        //   }
        // })

        cards = cards;

        // selectedCards[0].done = true
        // selectedCards[1].done = true
      } else {
        setTimeout(() => { 
          cards.map(card => {
          if(card.show) {
            card.show = false;
          }
        })
        cards = cards;
        }, 1000);
        
      }
      
      console.log(selectedCards);
    }
    // var selectedCard = cards[index]
    // selectedCard.show = true
  }
  </script>

<input type="checkbox" id="ck">
<label for="ck">ì¹´ë“œ ì „ì²´ ë³´ê¸°</label>
<div class="pack wrap space-between gameStart">
  {#each cards as card ,index}
    <div class="card" 
    on:click="{() =>  SEND(index)}"
    class:open="{card.show === true|| card.done === true}"
    >
      <span class="layer">ë’¤</span>
      <span class="layer">{card.value}</span>
    </div>
  {/each}
</div>


<style lang="scss">
  .wrap{
    height:100vh;
    padding:50px;
    box-sizing:border-box;
    font-size:100px;
    background:rgb(224, 224, 224);
  }
  .card{
    position: relative;
    width:20%;height:250px;
    span{
      border-radius: 20px;
      transition: transform 1s ease-in-out .2s,  z-index 1s ease-in-out .2s; 
      &:nth-child(1){
        background:#e9ffcc;
        transform:rotateY(0);
        z-index: 10;
      }
      &:nth-child(2){
        background: rgb(255, 206, 206);
        transform: rotateY(180deg);
        z-index: 0;
      }
    }
    
  }
  // &:hover,
  .open,.selected{
      span:nth-child(1){
        transform:rotateY(180deg);
        z-index: 0;
      }
      span:nth-child(2){
        transform: rotateY(0);
        z-index: 10;
      } 
    }
 

  input:checked +label+ .gameStart {
    span:nth-child(1){
        transform:rotateY(180deg);
        z-index: 0;
      }
      span:nth-child(2){
        transform: rotateY(0);
        z-index: 10;
      } 
  }


  // í‹€ë¦¬ë©´ wrong ë„£ì—ˆë‹¤ê°€ ë¹ ì§€ê¸° 1ì´ˆ?
  .wrong {
	-webkit-animation: vibrate-1 0.3s linear infinite both;
	        animation: vibrate-1 0.3s linear infinite both;
  }
  @keyframes vibrate-1 {
    0% {
      transform: translate(0);
    }
    20% {
      transform: translate(-2px, 2px);
    }
    40% {
      transform: translate(-2px, -2px);
    }
    60% {
      transform: translate(2px, 2px);
    }
    80% {
      transform: translate(2px, -2px);
    }
    100% {
      transform: translate(0);
    }
  }

</style>